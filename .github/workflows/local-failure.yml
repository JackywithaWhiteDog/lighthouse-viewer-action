name: Local - Failure

on:
  workflow_dispatch:
  pull_request:
    branches:
      - main
    paths:
      - dist/**
      - examples/lighthouserc.json
      - action.yml
      - package.json

jobs:
  hello_world_job:
    runs-on: ubuntu-latest
    name: Lighthouse-CI
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Audit with Lighthouse
        id: lighthouse
        continue-on-error: true
        uses: treosh/lighthouse-ci-action@v10
        with:
          urls: |
              https://www.google.com/
              https://example.com/
          configPath: './examples/lighthouserc.json'
          uploadArtifacts: true
      - name: Display Report
        continue-on-error: true
        uses: ./
        with:
          results_path: ${{ steps.lighthouse.outputs.resultsPath }}
          lighthouse_outcome: ${{ steps.lighthouse.outcome }}
